<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-165717322-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-165717322-1",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Documentation" href="/k8-proxy-documentation/opensearch.xml"><title data-react-helmet="true">Cloud SDK Security Architecture and Secure Deployment | Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Cloud SDK Security Architecture and Secure Deployment | Documentation"><meta data-react-helmet="true" name="description" content="Overview"><meta data-react-helmet="true" property="og:description" content="Overview"><meta data-react-helmet="true" property="og:url" content="https://k8-proxy.github.io/k8-proxy-documentation/docs/products/gw cloud sdk/bcloudsdk_dep"><link data-react-helmet="true" rel="shortcut icon" href="/k8-proxy-documentation/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://k8-proxy.github.io/k8-proxy-documentation/docs/products/gw cloud sdk/bcloudsdk_dep"><link rel="stylesheet" href="/k8-proxy-documentation/styles.6d941e54.css">
<link rel="preload" href="/k8-proxy-documentation/styles.dd6fd1a1.js" as="script">
<link rel="preload" href="/k8-proxy-documentation/runtime~main.2a23754f.js" as="script">
<link rel="preload" href="/k8-proxy-documentation/main.bc80a993.js" as="script">
<link rel="preload" href="/k8-proxy-documentation/1.cd67cf5d.js" as="script">
<link rel="preload" href="/k8-proxy-documentation/2.2be62e8f.js" as="script">
<link rel="preload" href="/k8-proxy-documentation/38.55e2d4d6.js" as="script">
<link rel="preload" href="/k8-proxy-documentation/41.38a1e756.js" as="script">
<link rel="preload" href="/k8-proxy-documentation/935f2afb.4d546876.js" as="script">
<link rel="preload" href="/k8-proxy-documentation/17896441.697da9fa.js" as="script">
<link rel="preload" href="/k8-proxy-documentation/460041df.46d3933a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/k8-proxy-documentation/"><img class="navbar__logo" src="/k8-proxy-documentation/img/glasswall_logo_blue.png" alt="Glasswall Logo"><strong class="navbar__title">Documentation</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/k8-proxy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/k8-proxy-documentation/"><img class="navbar__logo" src="/k8-proxy-documentation/img/glasswall_logo_blue.png" alt="Glasswall Logo"><strong class="navbar__title">Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/k8-proxy" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Products</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8-proxy-documentation/docs/products/a-main">Welcome</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">File Drop</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/filedrop/fd-aws">Deploying File Drop on AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/filedrop/fd-esxi">Deploying File Drop on ESXi</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/filedrop/fd-howto">How to use File Drop</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">GW Cloud SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8-proxy-documentation/docs/products/gw cloud sdk/a-overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8-proxy-documentation/docs/products/gw cloud sdk/b-endpoints">Endpoints</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/k8-proxy-documentation/docs/products/gw cloud sdk/bcloudsdk_dep">CloudSDK Secure Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8-proxy-documentation/docs/products/gw cloud sdk/c-fd-integration-aws">FileDrop Integration AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8-proxy-documentation/docs/products/gw cloud sdk/c-fd-integration">FileDrop Integration ESXi</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8-proxy-documentation/docs/products/gw cloud sdk/d-desktop-integration">GW Desktop Integration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8-proxy-documentation/docs/products/gw cloud sdk/deployment">Automated deployment CF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/k8-proxy-documentation/docs/products/gw cloud sdk/python-sample">Python/PHP/JS Code Sample</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">GW Desktop App</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/gw desktop app/overview">GW Desktop App</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">GW Proxy</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/gw proxy/overview">GW Proxy</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">ICAP Server</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/icap server/icap-aws">Deploying ICAP Server on AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/icap server/icap-esxi">Deploying ICAP Server on ESXI &amp; Virtualbox</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/icap server/icap-howto">How to use ICAP Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/icap server/icap-ui">Management UI user guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Sharepoint Plugin</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">online</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/sharepoint plugin/online/sharepoint-online-solution-administration">Sharepoint Online Solution Administration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/sharepoint plugin/online/sharepoint-online-solution-deployment">Sharepoint Online Solution Deployment</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">server</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">server-setup</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/sharepoint plugin/server/server-setup/1. overview">VM Setup Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/sharepoint plugin/server/server-setup/2. sp-vm-manual-install">Sharepoint VM - Manual Install</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/sharepoint plugin/server/server-setup/3. sp-vhd-to-ova">Sharepoint VHD to OVA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/sharepoint plugin/server/server-setup/4. sp-ova-aws">Sharepoint OVA in AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/sharepoint plugin/server/server-setup/5. export-ova-aws">Export OVA from AWS</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/sharepoint plugin/server/sharepoint-server-solution-administration">Sharepoint Server  Solution Administration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/sharepoint plugin/server/sharepoint-server-solution-deployment">SharePoint Server - Solution Deployment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/sharepoint plugin/server/sharepoint-server-solution-uninstall">File Handler App Deployment Uninstall</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">web</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/k8-proxy-documentation/docs/products/sharepoint plugin/web/overview">Overview</a></li></ul></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Cloud SDK Security Architecture and Secure Deployment</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="overview"></a>Overview<a aria-hidden="true" tabindex="-1" class="hash-link" href="#overview" title="Direct link to heading">#</a></h1><p>GW Cloud SDK is a Kubernetes service that is added to ICAP
infrastructure to provide access to Glasswall Solutions file rebuild
service through RESTful APIs.</p><p>GW Cloud SDK is implemented in compliant Kubernetes (see
<a href="https://compliantkubernetes.io/" target="_blank" rel="noopener noreferrer">https://compliantkubernetes.io/</a>) which is a certified Kubernetes
distribution.</p><p>Compliant Kubernetes is implemented in 2 clusters:</p><ul><li><p>A workload cluster, which hosts GW Cloud SDK (API)</p></li><li><p>A service cluster, which hosts services for monitoring, logging and
vulnerability management.</p></li><li><p>For more information see
<a href="https://k8-proxy.github.io/k8-proxy-documentation/docs/products/a-main/" target="_blank" rel="noopener noreferrer">here</a>.</p></li></ul><p>Glasswall is using DevSecOps principles to guide secure design at every
stage of the ICAP project. Vulnerability identification and remediation
work is taking place for all key components to minimize the risk of
service interruption, or file compromise, either in transit, or during
the CDR file rebuild process.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="security-principles"></a>Security Principles<a aria-hidden="true" tabindex="-1" class="hash-link" href="#security-principles" title="Direct link to heading">#</a></h1><p>Glasswallâ€™s security posture for this project is governed by the
following Core InfoSec principles:</p><ol><li><p>No confidential data is recorded in the data analysis logs.Â </p></li><li><p>EachÂ file Rebuild processÂ is performed in its ownÂ newÂ container.Â The
container isÂ provisionedÂ for the process andÂ destroyedÂ once the
process is complete.Â This will prevent lateral movement and further
exploitation in case of an attack.Â </p></li></ol><ol start="3"><li>The Kubernetes clusters are stateless and can be destroyedÂ and
recreatedÂ on demand.Â </li></ol><ol start="4"><li><p>Movement ofÂ confidential filesÂ is heavily restrictedÂ to betweenÂ the
ICAP Service and File Storage.</p></li><li><p>Least privilege principle is applied all throughout the ICAP
architecture - systems and components can communicate only where
necessary for the functionality of the system.</p></li><li><p>Root user or Administrator user privileges is required for
troubleshooting &amp; maintenance but is not needed for the end user.</p></li></ol><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="security-architecture-overview"></a>Security Architecture Overview<a aria-hidden="true" tabindex="-1" class="hash-link" href="#security-architecture-overview" title="Direct link to heading">#</a></h1><p>All technologies and platforms come with inherent risks that can surface
as part of the development process. Glasswall is aware of this and we
have established processes to ensure products and systems are being
hardened to protect our solution and our customers. The security
architecture is mainly reflected in the principles above and in the
architecture descriptions above. Furthermore, the security architecture
is composed of:</p><ul><li><p>No actions are carried out that could activate potentially malicious
content of the file passing through the system.</p></li><li><p>The ICAP Request content is the only aspect of the received data
from the client side that is used as part of any calculations or
processing by the ICAP service.</p></li><li><p>The critical files reside in the Rebuilt and Original Store which
are all in the same Kubernetes cluster. These files are transitory,
with a lifespan that extends only to the duration of the
processing transaction. Access to these Stores is restricted.</p></li><li><p>Encryption is not enabled at rest by default, it can be depending on
the cloud storage provider</p></li><li><p>SSH access to the Workload cluster is disabled.</p></li><li><p>Each file to be rebuilt is provided with a unique, random filename.
This filename is used in both the Original and Rebuilt store.</p></li><li><p>The rebuilt files are in a separate storage (message in
separate queue).</p></li><li><p>Authentication and access control are implemented.</p></li><li><p>Transport encryption is supported throughout the ICAP service
(TLS v1.2+).</p></li><li><p>The Management UI requires authentication (see Management
UI security).</p></li><li><p>To prevent escalation of privileges root user or administrator user
are not required by orchestrators, virtual machines, and/or
container deliverables.</p></li><li><p>FileDrop shall function properly with cloud-based virtual and native
host-based Firewalls with a default setting enabled to block
all connections.</p></li><li><p>Each service will have an associated Network Policy restricting it
to communication with those services it is supposed to
communicate with.</p></li><li><p>Monitoring and all utility components will be setup to avoid
interfering with other workloads.</p></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="kubernetes-security"></a>Kubernetes Security<a aria-hidden="true" tabindex="-1" class="hash-link" href="#kubernetes-security" title="Direct link to heading">#</a></h1><p>We acknowledge that Kubernetes containers are not sandboxed entirely.
Having said that every Kubernetes container is destroyed after execution
of a file through the pod. To ensure functionality the Kubernetes API
must be accessible from inside the cluster. Automounting of service
tokens is enabled: this is completely benign in a cluster with RBAC
enabled since these tokens do not by themselves allow any access to the
API. Features enabled to ensure the security of the Kubernetes clusters
are</p><ul><li><p>Clusters are not multi-tenant.</p></li><li><p>There is a default Pod Security Policy preventing privileged
containers from running.</p></li><li><p>Container images are run only from trusted sources to prevent
malicious code from being run.</p></li><li><p>Kubernetes vulnerabilities are being periodically monitored
and addressed. To address the
<a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-8554" target="_blank" rel="noopener noreferrer">CVE-2020-8554</a>
that was reported in December 2020 we can say a risk assessment has
been done and deemed that the Risk Level is Low with a very unlikely
possibility and Minor impact. This vulnerability does not pose a
significant threat to our architecture as our clusters are
one-tenant only, with access between clusters and to the
internet restricted. IP whitelisting to external IP addresses and
event monitoring for the use of external IP addresses and is
recommended to the customer.</p></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="threat-modelling"></a>Threat Modelling<a aria-hidden="true" tabindex="-1" class="hash-link" href="#threat-modelling" title="Direct link to heading">#</a></h1><p>A threat model has been done on the ICAP
service architecture. Based on the identified threats embracing the
STRIDE threat modelling method, multiple security controls have been
implemented.</p><p>To summarize:</p><ul><li>AÂ dedicated request processing pod for each untrusted file.Â </li></ul><ul><li><p>The creation of a logging service to mitigate the risk of log
manipulation.Â </p></li><li><p>Error messages &amp; otherÂ transaction log content will not embed any
file content.Â </p></li><li><p>Error messages areÂ restricted to benign metadata such as offsets.Â </p></li><li><p>Avoidance of easily guessable filenames.Â </p></li><li><p>Implementation of only the APIÂ functionality necessary to accept
policy updates (regardingÂ policy update service).Â </p></li></ul><ul><li><p>File content is processed only in resource constrained environments
to limit impacting concurrentÂ processes.</p><ul><li><p>The Transaction Query Service has authentication &amp; access
control in place.</p></li><li><p>Input validation is implemented for the Transaction Query
Service: if the incorrect JSON is received, then the content
won&#x27;t be correctly deserialised into the class expected by the
controller and this will block any further processing.</p></li><li><p>There is a store per cluster.</p></li><li><p>This change has reduced the attack service: access to the
Transaction Event Store has been limited therefore no new
threats have arisen from it.</p></li></ul></li></ul><p>Residual risks from this phase of work are formally accepted and
mitigations to further reduce them are placed onto the productâ€™s
roadmap.Â </p><p>A specific security concern identified was also that a malware
compromised pod could compromise the whole Rebuilt Store. To mitigate
this, we limited the access of the pods to the Rebuilt Store.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="security-testing"></a>Security Testing<a aria-hidden="true" tabindex="-1" class="hash-link" href="#security-testing" title="Direct link to heading">#</a></h1><p>At Glasswall we use:</p><ul><li><p>Software composition analysis with Dependabot.</p></li><li><p>Static code analysis with Sonar Cloud &amp; CodeQL.</p></li><li><p>Container image scanning with Snyk.</p></li><li><p>Web application vulnerability assessments with Burp Suite.</p></li></ul><p>Vulnerabilities are prioritized and remediated as per risk assessment.
Components with known vulnerabilities are being addressed.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="encryption"></a>Encryption<a aria-hidden="true" tabindex="-1" class="hash-link" href="#encryption" title="Direct link to heading">#</a></h1><p>All web interfaces and client connections must support TLS v1.2 and
higher, using the encryption AES-256 algorithm.</p><p>Connection between the workload cluster and the Web UI is managed by SSL
Self Signed certificates.</p><p>For data storage weâ€™re using Amazon Elastic Block Store, which is
encrypted at rest.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="management-console-web-ui-authentication"></a>Management Console Web UI Authentication<a aria-hidden="true" tabindex="-1" class="hash-link" href="#management-console-web-ui-authentication" title="Direct link to heading">#</a></h1><p>For authentication of the users into the Management Console Web UIÂ a
username/password system is used.Â The passwordÂ values are hashed,
saltedÂ and stored in the user store.Â Session IDsÂ are
usedÂ toÂ authenticate the users. Each requestÂ from theÂ client sideÂ to a
server is accompanied by a cookie which contains session identifier. The
server then verifies the token for authenticity and only then responds
to the request.Â Management UI is specific to each workload instance and
cannot be operated in stateless mode. Transaction logs are
visibleÂ through the Management UI and do not contain confidential
data.Â The Management UI password policy with the current design does not
enforce strong credentials. ThisÂ lack of strong credential enforcement
we haveÂ logged as a vulnerability.Â Â Â </p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="glasswall-analysis-report"></a>Glasswall Analysis Report<a aria-hidden="true" tabindex="-1" class="hash-link" href="#glasswall-analysis-report" title="Direct link to heading">#</a></h1><p>TheÂ GlasswallÂ library operates in either Analysis or Protect mode:Â </p><ul><li><p>Analysis mode enables the content ofÂ filesÂ to be assessed with a
report generated toÂ summarizeÂ the non-conformances and potential
threats.Â </p></li><li><p>Protect mode addresses the issues that are identified, returning an
updated document with the remedies andÂ sanitizationÂ changes
necessary to remove any threat incorporated.Â </p></li></ul><p>TheÂ following tableÂ is a file-type agnostic description of the data
logged byÂ GlasswallÂ during document analysis. The analysis report is
produced in XML. The structure of the XML report is defined by the
Analysis Report XSD.</p><p>The Rebuild XML analysis report does not contain any confidential data
as it is more of a physical design of layout not the actual data. Below
isÂ aÂ table withÂ a list of the data handled in an exported XML
reportÂ structure.</p><table><thead><tr><th>Analysis Report</th><th>Description</th><th>Nodes Included</th><th>Data Classification</th></tr></thead><tbody><tr><td>gw:DocumentStatistics</td><td>Data for the document beingÂ analyzed</td><td>gw:DocumentSummary, gw:ContentManagementPolicy, gw:ContentGroups</td><td>Operational</td></tr><tr><td>gw:DocumentSummaryÂ </td><td>Provides the highest level of data in the analysis of the document.</td><td>gw:TotalSizeInBytes,Â gw:FileType,Â Â gw:VersionÂ </td><td>Operational</td></tr><tr><td>gw:ContentManagementPolicy</td><td>Provides a snapshot of the relevant applied content management policy.</td><td>gw:ContentName, gw:ContentValueÂ </td><td>Operational</td></tr><tr><td>gw:ContentGroups</td><td>Collection of gw:contentGroupÂ nodes, group count attribute andÂ ontentGroupÂ nodes.</td><td>ContentGroup, Group countÂ </td><td>Operational</td></tr><tr><td>gw:ContentGroupÂ </td><td>AÂ category of document element, or section of a document.</td><td>gw:BriefDescriptionÂ </td><td>Operational</td></tr><tr><td>gw:ContentItemsÂ </td><td>AÂ collection ofÂ gw:ContentItemÂ nodes that logÂ the checks associated with the enclosingÂ gwContentGroupÂ </td><td>itemCountÂ records TechnicalDescription InstanceCountÂ records TotalSizeInBytes AverageSizeInBytes MinSizeInBytes MaxSizeInBytesÂ </td><td>Operational</td></tr><tr><td>gw:SanitisationItemsÂ </td><td>AÂ collection of gw:SanitisationItemÂ nodes that log any sanitizationÂ that is carried out within the enclosing gwContentGroup.</td><td>itemCount, gw:TechnicalDescription, gw:SanitisationId, gw:InstanceCount, TotalSizeInBytes, AverageSizeInBytes, MinSizeInBytes, MaxSizeInBytesÂ </td><td>Operational</td></tr><tr><td>gw:RemedyItemsÂ </td><td>AÂ collection of gw:RemedyItemÂ nodes that logs any remedial work.</td><td>gw:TechnicalDescription, ItemCount, InstanceCountÂ </td><td>Operational</td></tr><tr><td>gw:IssueItemsÂ </td><td>Collection of gw:IssueItemÂ that log the checks associated with the enclosing gwContentGroup.Â </td><td>itemCount, gw:TechnicalDescription, IssueID, InstanceCountÂ </td><td>Operational</td></tr><tr><td>gw:ExtractedItemsÂ </td><td>Collection of gw:ExtractedItemÂ nodes.</td><td>itemCount,ExtractedItemÂ </td><td>Operational</td></tr><tr><td>gw:ExtractedItemÂ </td><td>Logs the details of each item extracted from the document.Â </td><td>gw:ExtractedImageÂ </td><td>Operational</td></tr><tr><td>gw:ExternalData</td><td>Provided within the specification of the report to enable client applications to add document specific information to the report.</td><td>gw:MetaData, gw:MetaDataName, gw:MetaDataValue</td><td>Operational</td></tr></tbody></table><p><em>Table 3 XML analysis report structure</em></p><ul><li><p>For moreÂ informationÂ pleaseÂ click
<a href="https://docs.glasswallsolutions.com/sdk/rebuild/Content/API/Glasswall-Analysis-Report.htm" target="_blank" rel="noopener noreferrer">here</a>
to seeÂ theÂ XMLÂ AnalysisÂ Report documentation.</p></li><li><p>For more information regarding Data Classification, please see section
<a href="#_10.1_Data_Classification">10.1</a></p></li></ul><p><img src="https://user-images.githubusercontent.com/60857664/118844260-1da29c00-b8cb-11eb-8aa8-69c533aeda5a.png" alt="image"></p><p><em>Figure 6 XML Analysis Report Documentation Example</em></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="data-classification"></a>Data Classification<a aria-hidden="true" tabindex="-1" class="hash-link" href="#data-classification" title="Direct link to heading">#</a></h1><table><thead><tr><th>Handled DataÂ </th><th>Data type</th><th>Data Description</th><th>Data Classification</th></tr></thead><tbody><tr><td>Â Analysis Report</td><td>XMLÂ </td><td>Report summary of no-conformances andÂ potentialÂ threats with an updated document with remedies andÂ sanitizationÂ recommendationsÂ </td><td>OperationalÂ </td></tr><tr><td>Original storeÂ </td><td>Binary file contentÂ </td><td>File received for processingÂ </td><td>ConfidentialÂ / Critical Â </td></tr><tr><td>RebuiltÂ storeÂ </td><td>Binary file contentÂ </td><td>Rebuild process outputÂ </td><td>ConfidentialÂ / Critical</td></tr><tr><td>Adaption-requestÂ </td><td>AMQPÂ messagesÂ (GUID, stringsâ€¦)Â </td><td>Service bus, data passed in hereÂ Â </td><td>OperationalÂ </td></tr><tr><td>Adaptation-outcomeÂ </td><td>AMQPÂ messagesÂ (GUID, stringsâ€¦)Â </td><td>Service bus, data passed in hereÂ Â </td><td>OperationalÂ Â </td></tr><tr><td>Transaction eventsÂ </td><td>LogsÂ </td><td>ProvideÂ Administrators with the ability to query the outcome of adaptation requestsÂ </td><td>OperationalÂ </td></tr></tbody></table><p><em>Table 4 Data Classification</em></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="data-classification-description"></a>Data Classification Description<a aria-hidden="true" tabindex="-1" class="hash-link" href="#data-classification-description" title="Direct link to heading">#</a></h2><p><strong>Critical</strong> This classification label applies to the most sensitive
business information that is intended for use strictly within the
organization. Its unauthorized disclosure could seriously and adversely
impact the business, its customers, its business partners, and its
suppliers.</p><p><strong>Confidential</strong> This classification label applies to less-sensitive
business information that is intended for use within the organization.
Its unauthorized disclosure could adversely impact the business or its
customers, suppliers, business partners, or employees. Information that
some people would consider to be private is included in this
classification.</p><p><strong>Operational</strong> This classification label applies to essential
operational data which is not classified as sensitive.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="secure-deployment"></a>Secure Deployment<a aria-hidden="true" tabindex="-1" class="hash-link" href="#secure-deployment" title="Direct link to heading">#</a></h1><p>Below demonstrates the steps to securely deploy GW Cloud SDK into AWS.
Recommendations for deployment on the workload cluster is to enable only
Port 443, and close out all other ports.</p><p>It is recommended to deny public access to the ICAP Server, to avoid
possible denial of service attacks. Whitelisting only dedicated IPs and
avoiding the use of is strongly recommended by the Glasswall InfoSec
Team. Using the SSH port 22 is recommended only for essential
maintenance/troubleshooting.</p><p>Deployment on the monitoring cluster enables Grafana/Kibana default
ports in automated deployments. It is recommended to whitelist access to
these ports from specific IPs. We recommend using a central logging
location (i.e. Elasticsearch) to enable the plug in of a SIEM (Security
Information and Event Management) service for security monitoring and
alerting.</p><p>Installed in front of the load balancer we highly recommend installing a
WAF (Web Application Firewall). This should be configured to block
traffic to ports and offer protection against SQL Injections, XSS, HTTP
Floods, Scanners, Probes, Bots &amp; Scrapers.</p><p>For AWS based deployments, we have a CloudFormation template which the
preferred way to integrate the service &amp; workload clusters. Manual
integration is suggest only in cases where CF template cannot be used.
Below details both manual and automated methods, along with validation.</p><p>Automated &amp; Manual deployments will have the following configuration:</p><ul><li><p>HTTPs Port 443 (Workload &amp; Service Clusters)</p></li><li><p>Grafana Port 3000 (Service Cluster)</p></li><li><p>Kibana Port 5601 (Service Cluster)</p></li><li><p>API Port 8080 (Workload Cluster)</p></li><li><p>Deny All</p></li></ul><p>A summary of the recommendations for secure deployment into any cloud
environment:</p><ol><li><p>Use the automated deployment script where possible.</p></li><li><p>Keep only the necessary ports open (as recommended above).</p></li><li><p>Enforce whitelisting of only required IPs (do not use 0.0.0.0/0)</p></li><li><p>Use a WAF</p></li><li><p>Harden your cloud environment with security benchmarks (i.e. CIS).
We recommend reviewing all the security settings in the account and
ensuring that secure defaults have not been changed to less secure
settings and that the most secure settings are used in areas that do
not default to secure. This will help to identify and remediate
weaknesses in the account&#x27;s configuration and can be amended to
cloud security standards.</p></li><li><p>Monitor the cloud environment for any security events with a SIEM</p></li></ol><p><em>Glasswall InfoSec Team</em></p><p><em>May 19th, 2021</em></p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/k8-proxy-documentation/docs/products/gw cloud sdk/b-endpoints"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Endpoints</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/k8-proxy-documentation/docs/products/gw cloud sdk/c-fd-integration-aws"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">FileDrop Integration AWS Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#data-classification-description" class="table-of-contents__link">Data Classification Description</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/k8-proxy-documentation/docs/products">Getting Started</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2021 Glasswall Solutions Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/k8-proxy-documentation/styles.dd6fd1a1.js"></script>
<script src="/k8-proxy-documentation/runtime~main.2a23754f.js"></script>
<script src="/k8-proxy-documentation/main.bc80a993.js"></script>
<script src="/k8-proxy-documentation/1.cd67cf5d.js"></script>
<script src="/k8-proxy-documentation/2.2be62e8f.js"></script>
<script src="/k8-proxy-documentation/38.55e2d4d6.js"></script>
<script src="/k8-proxy-documentation/41.38a1e756.js"></script>
<script src="/k8-proxy-documentation/935f2afb.4d546876.js"></script>
<script src="/k8-proxy-documentation/17896441.697da9fa.js"></script>
<script src="/k8-proxy-documentation/460041df.46d3933a.js"></script>
</body>
</html>